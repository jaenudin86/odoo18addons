<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Inherit Report Template untuk Delivery Order -->
        <template id="report_delivery_document_inherit" inherit_id="stock.report_delivery_document">
            
            <!-- Tambahkan kolom product info di tabel stock moves -->
            <xpath expr="//table[@name='stock_move_table']//thead//tr" position="inside">
                <th class="text-center"><strong>Brand</strong></th>
                <th class="text-center"><strong>Size</strong></th>
            </xpath>
            
            <xpath expr="//table[@name='stock_move_table']//tbody//tr[contains(@t-foreach, 'o.move_ids_without_package')]//td[last()]" position="after">
                <td class="text-center">
                    <span t-field="move.product_id.brand"/>
                </td>
                <td class="text-center">
                    <span t-field="move.product_id.size"/>
                </td>
            </xpath>
            
            <!-- Tambahkan informasi product details setelah tabel -->
            <xpath expr="//table[@name='stock_move_table']" position="after">
                
                <!-- Loop untuk setiap product yang berbeda dalam delivery -->
                <t t-set="products" t-value="o.move_ids_without_package.mapped('product_id')"/>
                
                <t t-foreach="products" t-as="product">
                    <div class="row mt-4" style="page-break-inside: avoid;">
                        <div class="col-12">
                            <h5 style="border-bottom: 2px solid #000; padding-bottom: 5px;">
                                Product Details - <span t-field="product.name"/>
                            </h5>
                        </div>
                        
                        <div class="col-6">
                            <table class="table table-sm table-borderless">
                                <tr t-if="product.brand">
                                    <td style="width: 40%;"><strong>Brand:</strong></td>
                                    <td><span t-field="product.brand"/></td>
                                </tr>
                                <tr t-if="product.size">
                                    <td><strong>Size:</strong></td>
                                    <td><span t-field="product.size"/></td>
                                </tr>
                                <tr t-if="product.base_colour">
                                    <td><strong>Base Colour:</strong></td>
                                    <td><span t-field="product.base_colour"/></td>
                                </tr>
                                <tr t-if="product.text_colour">
                                    <td><strong>Text Colour:</strong></td>
                                    <td><span t-field="product.text_colour"/></td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="col-6">
                            <table class="table table-sm table-borderless">
                                <tr t-if="product.gross_weight">
                                    <td style="width: 50%;"><strong>Gross Weight:</strong></td>
                                    <td><span t-field="product.gross_weight"/> kg</td>
                                </tr>
                                <tr t-if="product.net_weight">
                                    <td><strong>Net Weight:</strong></td>
                                    <td><span t-field="product.net_weight"/> kg</td>
                                </tr>
                                <tr t-if="product.net_net_weight">
                                    <td><strong>Net Net Weight:</strong></td>
                                    <td><span t-field="product.net_net_weight"/> kg</td>
                                </tr>
                            </table>
                        </div>
                        
                        <!-- Ingredients -->
                        <div class="col-12" t-if="product.ingredients">
                            <strong>Ingredients:</strong>
                            <p style="white-space: pre-wrap; margin-left: 20px;"><span t-field="product.ingredients"/></p>
                        </div>
                    </div>
                </t>
                
            </xpath>
            
            <!-- Tambahkan Footer dengan Notes dan Signature -->
            <xpath expr="//div[@class='page']" position="inside">
                
                <!-- Notes Section -->
                <div class="row mt-5" style="page-break-inside: avoid;">
                    <div class="col-12">
                        <div style="border: 2px solid #000; padding: 10px;">
                            <p style="margin-bottom: 5px;"><strong>NOTES / CATATAN:</strong></p>
                            <p style="margin-bottom: 3px;">
                                <strong>FRAGILE - HANDLE WITH EXTREME CARE</strong><br/>
                                <em>(BARANG MUDAH PECAH â€“ HARAP TANGANI DENGAN SANGAT HATI-HATI)</em>
                            </p>
                            <p style="margin-bottom: 3px;">
                                <strong>PLEASE CHECK ALL GOODS CAREFULLY BEFORE SHIPMENT AND UPON RECEIPT</strong><br/>
                                <em>(HARAP PERIKSA SEMUA BARANG DENGAN TELITI SEBELUM PENGIRIMAN DAN SAAT PENERIMAAN)</em>
                            </p>
                            <p style="margin-bottom: 0;">
                                <strong>KINDLY ENSURE ALL FIELDS ARE COMPLETED WITH SIGNATURE, DATE, AND FULL NAME IN EACH COLUMN PROVIDED</strong><br/>
                                <em>(Mohon pastikan seluruh kolom diisi lengkap dengan tanda tangan, tanggal, dan nama lengkap pada setiap kolom yang tersedia.)</em>
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Signature Section -->
                <div class="row mt-4" style="page-break-inside: avoid;">
                    <div class="col-12">
                        <table class="table table-bordered" style="border: 2px solid #000;">
                            <thead>
                                <tr style="background-color: #f0f0f0;">
                                    <th class="text-center" style="width: 20%; border: 1px solid #000;">CREATED BY</th>
                                    <th class="text-center" style="width: 20%; border: 1px solid #000;">APPROVED BY</th>
                                    <th class="text-center" style="width: 20%; border: 1px solid #000;">CHECKED BY<br/>(WAREHOUSE)</th>
                                    <th class="text-center" style="width: 20%; border: 1px solid #000;">WAREHOUSE HEAD</th>
                                    <th class="text-center" style="width: 20%; border: 1px solid #000;">RECEIVED BY<br/>(SECURITY / VENDOR)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="height: 100px; border: 1px solid #000; vertical-align: bottom; padding: 5px;">
                                        <div style="margin-top: 60px; font-size: 9pt;">
                                            <p style="margin: 2px 0;">Name: _______________</p>
                                            <p style="margin: 2px 0;">Date: _______________</p>
                                            <p style="margin: 2px 0;">Sign: _______________</p>
                                        </div>
                                    </td>
                                    <td style="height: 100px; border: 1px solid #000; vertical-align: bottom; padding: 5px;">
                                        <div style="margin-top: 60px; font-size: 9pt;">
                                            <p style="margin: 2px 0;">Name: _______________</p>
                                            <p style="margin: 2px 0;">Date: _______________</p>
                                            <p style="margin: 2px 0;">Sign: _______________</p>
                                        </div>
                                    </td>
                                    <td style="height: 100px; border: 1px solid #000; vertical-align: bottom; padding: 5px;">
                                        <div style="margin-top: 60px; font-size: 9pt;">
                                            <p style="margin: 2px 0;">Name: _______________</p>
                                            <p style="margin: 2px 0;">Date: _______________</p>
                                            <p style="margin: 2px 0;">Sign: _______________</p>
                                        </div>
                                    </td>
                                    <td style="height: 100px; border: 1px solid #000; vertical-align: bottom; padding: 5px;">
                                        <div style="margin-top: 60px; font-size: 9pt;">
                                            <p style="margin: 2px 0;">Name: _______________</p>
                                            <p style="margin: 2px 0;">Date: _______________</p>
                                            <p style="margin: 2px 0;">Sign: _______________</p>
                                        </div>
                                    </td>
                                    <td style="height: 100px; border: 1px solid #000; vertical-align: bottom; padding: 5px;">
                                        <div style="margin-top: 60px; font-size: 9pt;">
                                            <p style="margin: 2px 0;">Name: _______________</p>
                                            <p style="margin: 2px 0;">Date: _______________</p>
                                            <p style="margin: 2px 0;">Sign: _______________</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Stamp Section -->
                <div class="row mt-2 mb-3" style="page-break-inside: avoid;">
                    <div class="col-6 text-center">
                        <div style="border: 2px dashed #666; padding: 30px; min-height: 80px;">
                            <p style="margin: 0; color: #999; font-size: 14pt;"><strong>STAMP</strong></p>
                        </div>
                    </div>
                </div>
                
            </xpath>
            
        </template>

    </data>
</odoo>